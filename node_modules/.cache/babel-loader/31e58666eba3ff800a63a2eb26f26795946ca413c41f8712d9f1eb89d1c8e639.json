{"ast":null,"code":"var _jsxFileName = \"/Users/paulsirbu/WebstormProjects/frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { auth, createUserProfileDocument } from './firebase/firebase.utils';\nimport { setCurrentUser } from './redux/user/user.actions';\nimport { selectCurrentUser } from './redux/user/user.selector';\nimport { createStructuredSelector } from 'reselect';\nimport HomePage from './pages/homepage/Homepage';\nimport ShopPage from './pages/shop/Shop';\nimport Header from './components/header/Header';\nimport SignInAndSignUp from './pages/sign-in-and-sign-up/SignInAndSignUp';\nimport './App.css';\nimport Checkout from './pages/checkout/Checkout';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    // constructor(props) {\n    //   super(props);\n    //   this.state = {\n    //     currentUser: null\n    //   };\n    // }\n    // To avoid memory leaks in JS app\n    this.unsubscribeFromAuth = null;\n  }\n  componentDidMount() {\n    const {\n      setCurrentUser\n    } = this.props;\n\n    // user update\n    this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n        userRef.onSnapshot(snapShot => {\n          setCurrentUser({\n            id: snapShot.id,\n            ...snapShot.data()\n          });\n        });\n      }\n      // null\n      setCurrentUser(userAuth);\n      // addCollectionAndDocuments(\n      //   'collections',\n      //   collectionsArray.map(({ title, items }) => ({ title, items }))\n      // );\n    });\n  }\n\n  // close the subscription\n  componentWillUnmount() {\n    // call this so `null`\n    this.unsubscribeFromAuth();\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          component: HomePage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/shop\",\n          component: ShopPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/checkout\",\n          component: Checkout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/signin\",\n          render: () => this.props.currentUser ? /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 54\n          }, this) : /*#__PURE__*/_jsxDEV(SignInAndSignUp, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 76\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n// args: user reducer\n// Can access to `this.props.currentUser`\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser\n});\nconst mapDispatchToProps = dispatch => ({\n  setCurrentUser: user => dispatch(setCurrentUser(user))\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"names":["React","Component","Route","connect","auth","createUserProfileDocument","setCurrentUser","selectCurrentUser","createStructuredSelector","HomePage","ShopPage","Header","SignInAndSignUp","Checkout","jsxDEV","_jsxDEV","App","constructor","args","unsubscribeFromAuth","componentDidMount","props","onAuthStateChanged","userAuth","userRef","onSnapshot","snapShot","id","data","componentWillUnmount","render","children","fileName","_jsxFileName","lineNumber","columnNumber","Switch","exact","path","component","currentUser","Redirect","to","mapStateToProps","mapDispatchToProps","dispatch","user"],"sources":["/Users/paulsirbu/WebstormProjects/frontend/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport {  Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { auth, createUserProfileDocument } from './firebase/firebase.utils';\nimport { setCurrentUser } from './redux/user/user.actions';\nimport { selectCurrentUser } from './redux/user/user.selector';\nimport { createStructuredSelector } from 'reselect';\nimport HomePage from './pages/homepage/Homepage';\nimport ShopPage from './pages/shop/Shop';\nimport Header from './components/header/Header';\nimport SignInAndSignUp from './pages/sign-in-and-sign-up/SignInAndSignUp';\n\nimport './App.css';\nimport Checkout from './pages/checkout/Checkout';\n\nclass App extends Component {\n    // constructor(props) {\n    //   super(props);\n    //   this.state = {\n    //     currentUser: null\n    //   };\n    // }\n\n    // To avoid memory leaks in JS app\n    unsubscribeFromAuth = null;\n\n    componentDidMount() {\n        const { setCurrentUser } = this.props;\n\n        // user update\n        this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n            if (userAuth) {\n                const userRef = await createUserProfileDocument(userAuth);\n\n                userRef.onSnapshot(snapShot => {\n                    setCurrentUser({\n                        id: snapShot.id,\n                        ...snapShot.data()\n                    });\n                });\n            }\n            // null\n            setCurrentUser(userAuth);\n            // addCollectionAndDocuments(\n            //   'collections',\n            //   collectionsArray.map(({ title, items }) => ({ title, items }))\n            // );\n        });\n    }\n\n    // close the subscription\n    componentWillUnmount() {\n        // call this so `null`\n        this.unsubscribeFromAuth();\n    }\n\n    render() {\n        return (\n            <div>\n                <Header />\n                <Switch>\n                    <Route exact path='/' component={HomePage} />\n                    <Route path='/shop' component={ShopPage} />\n                    <Route exact path='/checkout' component={Checkout} />\n                    <Route\n                        exact\n                        path='/signin'\n                        render={() =>\n                            this.props.currentUser ? <Redirect to='/' /> : <SignInAndSignUp />\n                        }\n                    />\n                </Switch>\n            </div>\n        );\n    }\n}\n\n// args: user reducer\n// Can access to `this.props.currentUser`\nconst mapStateToProps = createStructuredSelector({\n    currentUser: selectCurrentUser\n});\n\nconst mapDispatchToProps = dispatch => ({\n    setCurrentUser: user => dispatch(setCurrentUser(user))\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(App);\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAAUC,KAAK,QAAQ,kBAAkB;AACzC,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,IAAI,EAAEC,yBAAyB,QAAQ,2BAA2B;AAC3E,SAASC,cAAc,QAAQ,2BAA2B;AAC1D,SAASC,iBAAiB,QAAQ,4BAA4B;AAC9D,SAASC,wBAAwB,QAAQ,UAAU;AACnD,OAAOC,QAAQ,MAAM,2BAA2B;AAChD,OAAOC,QAAQ,MAAM,mBAAmB;AACxC,OAAOC,MAAM,MAAM,4BAA4B;AAC/C,OAAOC,eAAe,MAAM,6CAA6C;AAEzE,OAAO,WAAW;AAClB,OAAOC,QAAQ,MAAM,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,MAAMC,GAAG,SAASf,SAAS,CAAC;EAAAgB,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IACxB;IACA;IACA;IACA;IACA;IACA;IAEA;IAAA,KACAC,mBAAmB,GAAG,IAAI;EAAA;EAE1BC,iBAAiBA,CAAA,EAAG;IAChB,MAAM;MAAEd;IAAe,CAAC,GAAG,IAAI,CAACe,KAAK;;IAErC;IACA,IAAI,CAACF,mBAAmB,GAAGf,IAAI,CAACkB,kBAAkB,CAAC,MAAMC,QAAQ,IAAI;MACjE,IAAIA,QAAQ,EAAE;QACV,MAAMC,OAAO,GAAG,MAAMnB,yBAAyB,CAACkB,QAAQ,CAAC;QAEzDC,OAAO,CAACC,UAAU,CAACC,QAAQ,IAAI;UAC3BpB,cAAc,CAAC;YACXqB,EAAE,EAAED,QAAQ,CAACC,EAAE;YACf,GAAGD,QAAQ,CAACE,IAAI,CAAC;UACrB,CAAC,CAAC;QACN,CAAC,CAAC;MACN;MACA;MACAtB,cAAc,CAACiB,QAAQ,CAAC;MACxB;MACA;MACA;MACA;IACJ,CAAC,CAAC;EACN;;EAEA;EACAM,oBAAoBA,CAAA,EAAG;IACnB;IACA,IAAI,CAACV,mBAAmB,CAAC,CAAC;EAC9B;EAEAW,MAAMA,CAAA,EAAG;IACL,oBACIf,OAAA;MAAAgB,QAAA,gBACIhB,OAAA,CAACJ,MAAM;QAAAqB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACVpB,OAAA,CAACqB,MAAM;QAAAL,QAAA,gBACHhB,OAAA,CAACb,KAAK;UAACmC,KAAK;UAACC,IAAI,EAAC,GAAG;UAACC,SAAS,EAAE9B;QAAS;UAAAuB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC7CpB,OAAA,CAACb,KAAK;UAACoC,IAAI,EAAC,OAAO;UAACC,SAAS,EAAE7B;QAAS;UAAAsB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC3CpB,OAAA,CAACb,KAAK;UAACmC,KAAK;UAACC,IAAI,EAAC,WAAW;UAACC,SAAS,EAAE1B;QAAS;UAAAmB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACrDpB,OAAA,CAACb,KAAK;UACFmC,KAAK;UACLC,IAAI,EAAC,SAAS;UACdR,MAAM,EAAEA,CAAA,KACJ,IAAI,CAACT,KAAK,CAACmB,WAAW,gBAAGzB,OAAA,CAAC0B,QAAQ;YAACC,EAAE,EAAC;UAAG;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,gBAAGpB,OAAA,CAACH,eAAe;YAAAoB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QACpE;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC;EAEd;AACJ;;AAEA;AACA;AACA,MAAMQ,eAAe,GAAGnC,wBAAwB,CAAC;EAC7CgC,WAAW,EAAEjC;AACjB,CAAC,CAAC;AAEF,MAAMqC,kBAAkB,GAAGC,QAAQ,KAAK;EACpCvC,cAAc,EAAEwC,IAAI,IAAID,QAAQ,CAACvC,cAAc,CAACwC,IAAI,CAAC;AACzD,CAAC,CAAC;AAEF,eAAe3C,OAAO,CAClBwC,eAAe,EACfC,kBACJ,CAAC,CAAC5B,GAAG,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}